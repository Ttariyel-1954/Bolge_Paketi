<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PostgreSQL Server - Tam T…ôlimat</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        
        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .status-badge {
            display: inline-block;
            background: #27ae60;
            color: white;
            padding: 8px 20px;
            border-radius: 20px;
            margin-top: 15px;
            font-weight: bold;
            font-size: 0.9em;
        }
        
        nav {
            background: #ecf0f1;
            padding: 20px 40px;
            border-bottom: 3px solid #3498db;
        }
        
        nav ul {
            list-style: none;
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        nav a {
            color: #2c3e50;
            text-decoration: none;
            padding: 8px 15px;
            border-radius: 5px;
            transition: all 0.3s;
            font-weight: 500;
        }
        
        nav a:hover {
            background: #3498db;
            color: white;
        }
        
        .content {
            padding: 40px;
        }
        
        section {
            margin-bottom: 50px;
            scroll-margin-top: 20px;
        }
        
        h2 {
            color: #2c3e50;
            font-size: 2em;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #3498db;
        }
        
        h3 {
            color: #34495e;
            font-size: 1.5em;
            margin: 25px 0 15px 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        h4 {
            color: #555;
            font-size: 1.2em;
            margin: 20px 0 10px 0;
        }
        
        .info-box {
            background: #e8f4f8;
            border-left: 5px solid #3498db;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        .warning-box {
            background: #fff3cd;
            border-left: 5px solid #ffc107;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        .success-box {
            background: #d4edda;
            border-left: 5px solid #28a745;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        .danger-box {
            background: #f8d7da;
            border-left: 5px solid #dc3545;
            padding: 20px;
            margin: 20px 0;
            border-radius: 5px;
        }
        
        code {
            background: #f4f4f4;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Monaco', 'Courier New', monospace;
            font-size: 0.9em;
            color: #c7254e;
        }
        
        pre {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 20px;
            border-radius: 8px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Monaco', 'Courier New', monospace;
            line-height: 1.5;
            position: relative;
        }
        
        pre code {
            background: none;
            color: #ecf0f1;
            padding: 0;
        }
        
        .copy-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #3498db;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.8em;
        }
        
        .copy-btn:hover {
            background: #2980b9;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        th {
            background: #3498db;
            color: white;
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }
        
        td {
            padding: 12px 15px;
            border-bottom: 1px solid #ecf0f1;
        }
        
        tr:hover {
            background: #f8f9fa;
        }
        
        .step {
            background: #fff;
            border: 2px solid #ecf0f1;
            border-radius: 10px;
            padding: 25px;
            margin: 20px 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .step-number {
            background: #3498db;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2em;
            margin-right: 15px;
        }
        
        .emoji {
            font-size: 1.5em;
            margin-right: 10px;
        }
        
        .stat-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .stat-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .stat-card h3 {
            color: white;
            font-size: 2.5em;
            margin: 10px 0;
        }
        
        .stat-card p {
            opacity: 0.9;
            font-size: 0.9em;
        }
        
        footer {
            background: #2c3e50;
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .btn {
            display: inline-block;
            background: #3498db;
            color: white;
            padding: 12px 25px;
            border-radius: 5px;
            text-decoration: none;
            margin: 5px;
            transition: all 0.3s;
        }
        
        .btn:hover {
            background: #2980b9;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .command-list {
            list-style: none;
            padding: 0;
        }
        
        .command-list li {
            padding: 10px;
            margin: 5px 0;
            background: #f8f9fa;
            border-radius: 5px;
            border-left: 3px solid #3498db;
        }
        
        @media print {
            body {
                background: white;
            }
            .container {
                box-shadow: none;
            }
            pre {
                page-break-inside: avoid;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- HEADER -->
        <header>
            <h1>üêò PostgreSQL Server</h1>
            <p>Onlayn Test Sistemi - Tam ƒ∞dar…ôetm…ô T…ôlimatƒ±</p>
            <span class="status-badge">‚úÖ HAZIR V∆è ƒ∞≈ûL∆èYƒ∞R</span>
        </header>

        <!-- NAVIGATION -->
        <nav>
            <ul>
                <li><a href="#melumat">üìä M…ôlumat</a></li>
                <li><a href="#qurasdirma">‚öôÔ∏è Qura≈üdƒ±rma</a></li>
                <li><a href="#emrler">üíª ∆èmrl…ôr</a></li>
                <li><a href="#r-baglanti">üìà R Baƒülantƒ±</a></li>
                <li><a href="#sebekeden">üåê ≈û…ôb…ôk…ôd…ôn Baƒülanma</a></li>
                <li><a href="#nezaret">üîß N…ôzar…ôt</a></li>
                <li><a href="#problemler">üÜò Probleml…ôr</a></li>
            </ul>
        </nav>

        <!-- CONTENT -->
        <div class="content">
            
            <!-- M∆èLUMAT -->
            <section id="melumat">
                <h2><span class="emoji">üìä</span>Server M…ôlumatlarƒ±</h2>
                
                <div class="info-box">
                    <h3>üñ•Ô∏è Server Konfiqurasiyasƒ±</h3>
                    <table>
                        <tr>
                            <th>Parametr</th>
                            <th>D…ôy…ôr</th>
                        </tr>
                        <tr>
                            <td><strong>Host (Lokal)</strong></td>
                            <td><code>localhost</code></td>
                        </tr>
                        <tr>
                            <td><strong>Host (≈û…ôb…ôk…ô)</strong></td>
                            <td><code>192.168.1.69</code></td>
                        </tr>
                        <tr>
                            <td><strong>Port</strong></td>
                            <td><code>5432</code></td>
                        </tr>
                        <tr>
                            <td><strong>Database</strong></td>
                            <td><code>onlayn_test_db</code></td>
                        </tr>
                        <tr>
                            <td><strong>ƒ∞stifad…ô√ßi</strong></td>
                            <td><code>test_admin</code></td>
                        </tr>
                        <tr>
                            <td><strong>≈ûifr…ô</strong></td>
                            <td><code>test123456</code></td>
                        </tr>
                        <tr>
                            <td><strong>PostgreSQL Versiya</strong></td>
                            <td><code>15</code></td>
                        </tr>
                        <tr>
                            <td><strong>Data Directory</strong></td>
                            <td><code>/opt/homebrew/var/postgresql@15</code></td>
                        </tr>
                    </table>
                </div>

                <h3>üìà Baza Statistikasƒ±</h3>
                <div class="stat-grid">
                    <div class="stat-card">
                        <p>Test M…ôrk…ôzl…ôri</p>
                        <h3>5</h3>
                    </div>
                    <div class="stat-card">
                        <p>≈ûagirdl…ôr</p>
                        <h3>8</h3>
                    </div>
                    <div class="stat-card">
                        <p>Suallar</p>
                        <h3>45</h3>
                    </div>
                    <div class="stat-card">
                        <p>Testl…ôr</p>
                        <h3>10</h3>
                    </div>
                    <div class="stat-card">
                        <p>Test N…ôtic…ôl…ôri</p>
                        <h3>13</h3>
                    </div>
                </div>

                <h3>üóÉÔ∏è C…ôdv…ôl Strukturu</h3>
                <table>
                    <tr>
                        <th>C…ôdv…ôl</th>
                        <th>A√ßƒ±qlama</th>
                        <th>∆èsas Sah…ôl…ôr</th>
                    </tr>
                    <tr>
                        <td><code>test_centers</code></td>
                        <td>Test m…ôrk…ôzl…ôri</td>
                        <td>center_id, center_name, region, city</td>
                    </tr>
                    <tr>
                        <td><code>students</code></td>
                        <td>≈ûagird m…ôlumatlarƒ±</td>
                        <td>student_id, first_name, last_name, fin_code</td>
                    </tr>
                    <tr>
                        <td><code>questions</code></td>
                        <td>Sual bankƒ±</td>
                        <td>question_id, sual_id, fenn, sual_metni, dogru_cavab</td>
                    </tr>
                    <tr>
                        <td><code>tests</code></td>
                        <td>Test m…ôlumatlarƒ±</td>
                        <td>test_id, test_adi, test_kodu, status</td>
                    </tr>
                    <tr>
                        <td><code>test_questions</code></td>
                        <td>Test-Sual …ôlaq…ôsi</td>
                        <td>test_id, question_id, sira_nomresi</td>
                    </tr>
                    <tr>
                        <td><code>test_results</code></td>
                        <td>Test n…ôtic…ôl…ôri</td>
                        <td>result_id, test_id, student_id, umumi_bal, cavablar (JSONB)</td>
                    </tr>
                </table>
            </section>

            <!-- QURA≈ûDIRMA -->
            <section id="qurasdirma">
                <h2><span class="emoji">‚öôÔ∏è</span>PostgreSQL Qura≈üdƒ±rƒ±lmasƒ±</h2>
                
                <div class="warning-box">
                    <strong>‚ö†Ô∏è Qeyd:</strong> Bu sistem artƒ±q qura≈üdƒ±rƒ±lƒ±b v…ô i≈ül…ôyir! Bu b√∂lm…ô sad…ôc…ô referans √º√ß√ºnd√ºr.
                </div>

                <div class="step">
                    <h3><span class="step-number">1</span>Homebrew il…ô Qura≈üdƒ±rma</h3>
                    <pre><code># PostgreSQL 15 y√ºkl…ôyin
brew install postgresql@15

# Servisi i≈ü…ô salƒ±n
brew services start postgresql@15

# Statusu yoxlayƒ±n
brew services list | grep postgresql</code></pre>
                </div>

                <div class="step">
                    <h3><span class="step-number">2</span>Database Yaratma</h3>
                    <pre><code># Database yaradƒ±n
createdb onlayn_test_db

# PostgreSQL-…ô daxil olun
psql onlayn_test_db

# V…ô ya birba≈üa …ômr il…ô:
psql -d onlayn_test_db</code></pre>
                </div>

                <div class="step">
                    <h3><span class="step-number">3</span>ƒ∞stifad…ô√ßi Yaratma</h3>
                    <pre><code>-- PostgreSQL-d…ô
CREATE USER test_admin WITH PASSWORD 'test123456';
GRANT ALL PRIVILEGES ON DATABASE onlayn_test_db TO test_admin;
GRANT ALL PRIVILEGES ON ALL TABLES IN SCHEMA public TO test_admin;
GRANT ALL PRIVILEGES ON ALL SEQUENCES IN SCHEMA public TO test_admin;</code></pre>
                </div>

                <div class="step">
                    <h3><span class="step-number">4</span>≈û…ôb…ôk…ô Konfiqurasiyasƒ±</h3>
                    <h4>postgresql.conf faylƒ±nƒ± d√ºz…ôldin:</h4>
                    <pre><code># Faylƒ±n yerini tapƒ±n
psql -c "SHOW config_file;"

# Konfiqurasiya faylƒ±nƒ± a√ßƒ±n v…ô d√ºz…ôldin:
# listen_addresses = '*'    # B√ºt√ºn IP-l…ôr…ô icaz…ô</code></pre>

                    <h4>pg_hba.conf faylƒ±nƒ± d√ºz…ôldin:</h4>
                    <pre><code># A≈üaƒüƒ±dakƒ± s…ôtri …ôlav…ô edin:
host    all    all    192.168.1.0/24    scram-sha-256

# Serveri restart edin
brew services restart postgresql@15</code></pre>
                </div>
            </section>

            <!-- ∆èMRL∆èR -->
            <section id="emrler">
                <h2><span class="emoji">üíª</span>∆èsas PostgreSQL ∆èmrl…ôri</h2>

                <h3>üöÄ Server ƒ∞dar…ôetm…ôsi</h3>
                <div class="step">
                    <h4>Servisi ba≈ülatmaq/dayandƒ±rmaq</h4>
                    <pre><code># Ba≈ülat
brew services start postgresql@15

# Dayandƒ±r
brew services stop postgresql@15

# Restart
brew services restart postgresql@15

# Status
brew services list | grep postgresql

# V…ô ya
ps aux | grep postgres</code></pre>
                </div>

                <h3>üóÑÔ∏è Database ∆èmrl…ôri</h3>
                <div class="step">
                    <h4>Bazaya daxil olma</h4>
                    <pre><code># Standart baƒülantƒ±
psql -d onlayn_test_db

# ƒ∞stifad…ô√ßi il…ô
psql -U test_admin -d onlayn_test_db

# Xarici host
psql -h 192.168.1.69 -U test_admin -d onlayn_test_db

# ≈ûifr…ô il…ô (terminal)
PGPASSWORD='test123456' psql -h 192.168.1.69 -U test_admin -d onlayn_test_db</code></pre>
                </div>

                <h3>üìä M…ôlumat Sorƒüularƒ±</h3>
                <div class="step">
                    <h4>C…ôdv…ôll…ôri g√∂rm…ôk</h4>
                    <pre><code>-- PostgreSQL-d…ô
\dt                    -- C…ôdv…ôll…ôri g√∂st…ôr
\d students           -- C…ôdv…ôl strukturu
\l                    -- B√ºt√ºn database-l…ôr
\du                   -- ƒ∞stifad…ô√ßil…ôr
\conninfo             -- Baƒülantƒ± m…ôlumatlarƒ±</code></pre>

                    <h4>M…ôlumat sayƒ±</h4>
                    <pre><code>-- H…ôr c…ôdv…ôld…ô ne√ß…ô s…ôtir var
SELECT COUNT(*) FROM students;
SELECT COUNT(*) FROM questions;
SELECT COUNT(*) FROM tests;
SELECT COUNT(*) FROM test_results;

-- F…ônnl…ôr…ô g√∂r…ô suallar
SELECT fenn, COUNT(*) FROM questions GROUP BY fenn;

-- M…ôrk…ôzl…ôr…ô g√∂r…ô ≈üagirdl…ôr
SELECT 
    tc.center_name, 
    COUNT(s.student_id) as sagird_sayi
FROM test_centers tc
LEFT JOIN students s ON tc.center_id = s.center_id
GROUP BY tc.center_name;</code></pre>

                    <h4>Test n…ôtic…ôl…ôri</h4>
                    <pre><code>-- ∆èn yax≈üƒ± n…ôtic…ôl…ôr
SELECT 
    s.first_name || ' ' || s.last_name as sagird,
    t.test_adi,
    tr.umumi_bal
FROM test_results tr
JOIN students s ON tr.student_id = s.student_id
JOIN tests t ON tr.test_id = t.test_id
ORDER BY tr.umumi_bal DESC
LIMIT 10;

-- M…ôrk…ôzl…ôr…ô g√∂r…ô orta bal
SELECT 
    tc.center_name,
    ROUND(AVG(tr.umumi_bal), 2) as orta_bal
FROM test_centers tc
JOIN test_results tr ON tc.center_id = tr.center_id
GROUP BY tc.center_name;</code></pre>
                </div>

                <h3>‚úèÔ∏è M…ôlumat ∆èlav…ô/D…ôyi≈üdirm…ô</h3>
                <div class="step">
                    <pre><code>-- Yeni ≈üagird …ôlav…ô et
INSERT INTO students (first_name, last_name, fin_code, center_id)
VALUES ('∆èli', 'M…ômm…ôdov', 'A12345', 1);

-- ≈ûagird m…ôlumatƒ±nƒ± yenil…ô
UPDATE students 
SET center_id = 2 
WHERE student_id = 5;

-- ≈ûagirdi sil
DELETE FROM students WHERE student_id = 99;

-- Test statusunu d…ôyi≈ü
UPDATE tests 
SET status = 'aktiv' 
WHERE test_id = 1;</code></pre>
                </div>

                <h3>üíæ Backup v…ô Restore</h3>
                <div class="step">
                    <h4>Backup (Yed…ôkl…ôm…ô)</h4>
                    <pre><code># Tam database backup
pg_dump -U test_admin onlayn_test_db > backup_$(date +%Y%m%d).sql

# X√ºsusi c…ôdv…ôl backup
pg_dump -U test_admin -t students onlayn_test_db > students_backup.sql

# Custom format (sƒ±xƒ±lmƒ±≈ü)
pg_dump -U test_admin -Fc onlayn_test_db > backup.dump</code></pre>

                    <h4>Restore (B…ôrpa)</h4>
                    <pre><code># SQL fayldan restore
psql -U test_admin -d onlayn_test_db < backup_20251115.sql

# Custom format-dan restore
pg_restore -U test_admin -d onlayn_test_db backup.dump</code></pre>
                </div>
            </section>

            <!-- R BAƒûLANTI -->
            <section id="r-baglanti">
                <h2><span class="emoji">üìà</span>R-d…ôn Baƒülanma v…ô ƒ∞stifad…ô</h2>

                <div class="step">
                    <h3><span class="step-number">1</span>Paketl…ôri Y√ºkl…ô</h3>
                    <pre><code># R-d…ô
install.packages("DBI")
install.packages("RPostgres")

library(DBI)
library(RPostgres)</code></pre>
                </div>

                <div class="step">
                    <h3><span class="step-number">2</span>Baƒülantƒ± Qur (Lokal)</h3>
                    <pre><code>library(RPostgres)

# Baƒülan
con <- dbConnect(
  Postgres(),
  host = "localhost",
  port = 5432,
  dbname = "onlayn_test_db",
  user = "test_admin",
  password = "test123456"
)

# Test et
dbListTables(con)

# Baƒülantƒ±nƒ± baƒüla
dbDisconnect(con)</code></pre>
                </div>

                <div class="step">
                    <h3><span class="step-number">3</span>M…ôlumat Oxuma</h3>
                    <pre><code># Tam c…ôdv…ôli oxu
students <- dbReadTable(con, "students")
questions <- dbReadTable(con, "questions")

# Sorƒüu il…ô oxu
aktiv_testler <- dbGetQuery(con, "
  SELECT * FROM tests 
  WHERE status = 'aktiv'
")

# F…ônnl…ôr…ô g√∂r…ô suallar
mat_suallari <- dbGetQuery(con, "
  SELECT * FROM questions 
  WHERE fenn = 'Riyaziyyat'
")

# Test n…ôtic…ôl…ôri
neticeler <- dbGetQuery(con, "
  SELECT 
    s.first_name,
    s.last_name,
    t.test_adi,
    tr.umumi_bal
  FROM test_results tr
  JOIN students s ON tr.student_id = s.student_id
  JOIN tests t ON tr.test_id = t.test_id
  ORDER BY tr.umumi_bal DESC
")</code></pre>
                </div>

                <div class="step">
                    <h3><span class="step-number">4</span>M…ôlumat Yazma</h3>
                    <pre><code># Yeni m…ôlumat …ôlav…ô et
yeni_sagird <- data.frame(
  first_name = "Leyla",
  last_name = "H…ôs…ônova",
  fin_code = "L12345",
  center_id = 1
)

dbWriteTable(con, "students", yeni_sagird, 
             append = TRUE, row.names = FALSE)

# √áoxlu m…ôlumat yaz
yeni_suallar <- data.frame(
  sual_id = c("MAT_046", "MAT_047"),
  fenn = c("Riyaziyyat", "Riyaziyyat"),
  # ... dig…ôr sah…ôl…ôr
)

dbWriteTable(con, "questions", yeni_suallar, 
             append = TRUE, row.names = FALSE)</code></pre>
                </div>

                <div class="step">
                    <h3><span class="step-number">5</span>M…ôlumat Yenil…ôm…ô/Silm…ô</h3>
                    <pre><code># Update
dbExecute(con, "
  UPDATE students 
  SET center_id = 2 
  WHERE student_id = 5
")

# Delete
dbExecute(con, "
  DELETE FROM test_results 
  WHERE result_id = 100
")

# √áoxlu …ôm…ôliyyat
dbExecute(con, "
  UPDATE tests 
  SET status = 'bitib' 
  WHERE test_tarixi < CURRENT_DATE - 30
")</code></pre>
                </div>

                <div class="success-box">
                    <h4>‚úÖ Tam R Baƒülantƒ± N√ºmun…ôsi</h4>
                    <pre><code>library(RPostgres)

# Baƒülan
con <- dbConnect(
  Postgres(),
  host = "localhost",
  port = 5432,
  dbname = "onlayn_test_db",
  user = "test_admin",
  password = "test123456"
)

# M…ôlumat oxu
students <- dbReadTable(con, "students")
print(head(students))

# Sorƒüu
aktiv_testler <- dbGetQuery(con, "
  SELECT test_id, test_adi, status 
  FROM tests 
  WHERE status = 'aktiv'
")

# Statistika
stats <- dbGetQuery(con, "
  SELECT 
    fenn,
    COUNT(*) as sual_sayi,
    AVG(cetinlik) as orta_cetinlik
  FROM questions
  GROUP BY fenn
")

print(stats)

# Baƒüla
dbDisconnect(con)</code></pre>
                </div>
            </section>

            <!-- ≈û∆èB∆èK∆èD∆èN BAƒûLANMA -->
            <section id="sebekeden">
                <h2><span class="emoji">üåê</span>Dig…ôr Komp√ºterd…ôn Baƒülanma</h2>

                <div class="info-box">
                    <h3>üì° Server ƒ∞P: 192.168.1.69</h3>
                    <p>Eyni ≈ü…ôb…ôk…ôd…ô olan h…ôr hansƒ± komp√ºterd…ôn bu server…ô baƒülana bil…ôrsiniz.</p>
                </div>

                <div class="step">
                    <h3><span class="step-number">1</span>Terminal-dan Baƒülanma</h3>
                    <pre><code># Dig…ôr MacBook-dan
psql -h 192.168.1.69 -U test_admin -d onlayn_test_db

# ≈ûifr…ô: test123456

# V…ô ya bir …ômrd…ô
PGPASSWORD='test123456' psql -h 192.168.1.69 -U test_admin -d onlayn_test_db</code></pre>
                </div>

                <div class="step">
                    <h3><span class="step-number">2</span>R-d…ôn Baƒülanma</h3>
                    <pre><code>library(RPostgres)

# Dig…ôr komp√ºterd…ôn baƒülan
con <- dbConnect(
  Postgres(),
  host = "192.168.1.69",    # Server IP
  port = 5432,
  dbname = "onlayn_test_db",
  user = "test_admin",
  password = "test123456"
)

# ƒ∞≈üinizi g√∂r√ºn
students <- dbReadTable(con, "students")

# Baƒülayƒ±n
dbDisconnect(con)</code></pre>
                </div>

                <div class="step">
                    <h3><span class="step-number">3</span>SQLite-dan PostgreSQL-…ô K√∂√ß√ºrm…ô</h3>
                    <pre><code>library(DBI)
library(RSQLite)
library(RPostgres)

# SQLite baƒülantƒ±sƒ± (lokal)
con_sqlite <- dbConnect(
  SQLite(), 
  "~/Desktop/lokal_baza.db"
)

# PostgreSQL baƒülantƒ±sƒ± (server)
con_pg <- dbConnect(
  Postgres(),
  host = "192.168.1.69",
  port = 5432,
  dbname = "onlayn_test_db",
  user = "test_admin",
  password = "test123456"
)

# C…ôdv…ôll…ôri k√∂√ß√ºr
tables <- c("test_centers", "students", "questions", 
            "tests", "test_questions", "test_results")

for (tbl in tables) {
  cat("K√∂√ß√ºr√ºl√ºr:", tbl, "\n")
  
  # SQLite-dan oxu
  data <- dbReadTable(con_sqlite, tbl)
  
  if (nrow(data) > 0) {
    # PostgreSQL-…ô yaz
    dbWriteTable(con_pg, tbl, data, 
                 append = TRUE, row.names = FALSE)
    cat("  ‚úì", nrow(data), "s…ôtir\n")
  }
}

# Baƒüla
dbDisconnect(con_sqlite)
dbDisconnect(con_pg)

cat("K√∂√ß√ºrm…ô tamamlandƒ±!\n")</code></pre>
                </div>

                <div class="warning-box">
                    <h4>‚ö†Ô∏è ≈û…ôb…ôk…ô T…ôl…ôbl…ôri</h4>
                    <ul>
                        <li>H…ôr iki komp√ºter eyni WiFi/≈ü…ôb…ôk…ôd…ô olmalƒ±dƒ±r</li>
                        <li>Server IP: <code>192.168.1.69</code> …ôl√ßatan olmalƒ±dƒ±r</li>
                        <li>Port 5432 a√ßƒ±q olmalƒ±dƒ±r</li>
                        <li>Firewall bloklamamalƒ±dƒ±r</li>
                    </ul>
                </div>
            </section>

            <!-- N∆èZAR∆èT -->
            <section id="nezaret">
                <h2><span class="emoji">üîß</span>Baza N…ôzar…ôti v…ô Monitorinq</h2>

                <div class="step">
                    <h3>üìä √úmumi Statistika</h3>
                    <pre><code>-- H…ôr c…ôdv…ôld…ô m…ôlumat sayƒ±
SELECT 
    'Test M…ôrk…ôzl…ôri' as cedvel, COUNT(*)::text as say FROM test_centers
UNION ALL
SELECT '≈ûagirdl…ôr', COUNT(*)::text FROM students
UNION ALL
SELECT 'Suallar', COUNT(*)::text FROM questions
UNION ALL
SELECT 'Testl…ôr', COUNT(*)::text FROM tests
UNION ALL
SELECT 'Test N…ôtic…ôl…ôri', COUNT(*)::text FROM test_results;</code></pre>
                </div>

                <div class="step">
                    <h3>üéØ Aktiv Testl…ôr</h3>
                    <pre><code>-- Aktiv testl…ôr v…ô statistika
SELECT 
    t.test_adi,
    t.test_kodu,
    t.muddet_deqiqe,
    COUNT(DISTINCT tq.question_id) as sual_sayi,
    COUNT(DISTINCT tr.student_id) as istirakci_sayi
FROM tests t
LEFT JOIN test_questions tq ON t.test_id = tq.test_id
LEFT JOIN test_results tr ON t.test_id = tr.test_id
WHERE t.status = 'aktiv'
GROUP BY t.test_id, t.test_adi, t.test_kodu, t.muddet_deqiqe;</code></pre>
                </div>

                <div class="step">
                    <h3>üë• ≈ûagird Performansƒ±</h3>
                    <pre><code>-- H…ôr ≈üagirdin √ºmumi statistikasƒ±
SELECT 
    s.first_name || ' ' || s.last_name as sagird,
    s.fin_code,
    tc.center_name,
    COUNT(tr.result_id) as test_sayi,
    ROUND(AVG(tr.umumi_bal), 2) as orta_bal,
    MAX(tr.umumi_bal) as maksimum_bal
FROM students s
LEFT JOIN test_results tr ON s.student_id = tr.student_id
LEFT JOIN test_centers tc ON s.center_id = tc.center_id
GROUP BY s.student_id, s.first_name, s.last_name, 
         s.fin_code, tc.center_name
ORDER BY orta_bal DESC;</code></pre>
                </div>

                <div class="step">
                    <h3>üè´ M…ôrk…ôz Statistikasƒ±</h3>
                    <pre><code>-- M…ôrk…ôzl…ôr…ô g√∂r…ô n…ôtic…ôl…ôr
SELECT 
    tc.center_name,
    tc.city,
    COUNT(DISTINCT s.student_id) as sagird_sayi,
    COUNT(tr.result_id) as test_sayi,
    ROUND(AVG(tr.umumi_bal), 2) as orta_bal,
    MAX(tr.umumi_bal) as en_yuksek_bal
FROM test_centers tc
LEFT JOIN students s ON tc.center_id = s.center_id
LEFT JOIN test_results tr ON tc.center_id = tr.center_id
GROUP BY tc.center_id, tc.center_name, tc.city
ORDER BY orta_bal DESC;</code></pre>
                </div>

                <div class="step">
                    <h3>üìà F…ônnl…ôr…ô G√∂r…ô Analiz</h3>
                    <pre><code>-- Suallarƒ±n f…ônnl…ôr…ô g√∂r…ô b√∂lg√ºs√º
SELECT 
    fenn,
    COUNT(*) as sual_sayi,
    ROUND(AVG(cetinlik), 2) as orta_cetinlik,
    MIN(cetinlik) as min_cetinlik,
    MAX(cetinlik) as max_cetinlik
FROM questions
GROUP BY fenn;</code></pre>
                </div>

                <div class="step">
                    <h3>üíæ Baza H…ôcmi</h3>
                    <pre><code>-- Database-in √ºmumi h…ôcmi
SELECT 
    pg_size_pretty(pg_database_size('onlayn_test_db')) as database_size;

-- H…ôr c…ôdv…ôlin h…ôcmi
SELECT 
    schemaname,
    tablename,
    pg_size_pretty(pg_total_relation_size(schemaname||'.'||tablename)) as size
FROM pg_tables
WHERE schemaname = 'public'
ORDER BY pg_total_relation_size(schemaname||'.'||tablename) DESC;</code></pre>
                </div>

                <div class="step">
                    <h3>üîç Sync Status</h3>
                    <pre><code>-- Sync edilm…ômi≈ü n…ôtic…ôl…ôr
SELECT 
    COUNT(*) as sync_edilmemis
FROM test_results
WHERE synced_to_server = FALSE;

-- Sync statistikasƒ±
SELECT 
    synced_to_server,
    COUNT(*) as say
FROM test_results
GROUP BY synced_to_server;</code></pre>
                </div>
            </section>

            <!-- PROBLEML∆èR -->
            <section id="problemler">
                <h2><span class="emoji">üÜò</span>Probleml…ôrin H…ôlli</h2>

                <div class="danger-box">
                    <h3>‚ùå PostgreSQL i≈ül…ômir</h3>
                    <h4>∆èlam…ôtl…ôr:</h4>
                    <ul>
                        <li>Baƒülantƒ± x…ôtasƒ±</li>
                        <li>"Connection refused"</li>
                        <li>Server cavab vermir</li>
                    </ul>
                    
                    <h4>H…ôll:</h4>
                    <pre><code># Status yoxlayƒ±n
brew services list | grep postgresql
ps aux | grep postgres

# Servisi ba≈üladƒ±n
brew services start postgresql@15

# V…ô ya manual
pg_ctl -D /opt/homebrew/var/postgresql@15 start

# Loglarƒ± yoxlayƒ±n
tail -f /opt/homebrew/var/log/postgresql@15.log</code></pre>
                </div>

                <div class="danger-box">
                    <h3>‚ùå Baƒülantƒ± x…ôtasƒ± (≈ü…ôb…ôk…ôd…ôn)</h3>
                    <h4>∆èlam…ôtl…ôr:</h4>
                    <ul>
                        <li>"could not connect to server"</li>
                        <li>Timeout x…ôtasƒ±</li>
                    </ul>
                    
                    <h4>H…ôll:</h4>
                    <pre><code># 1. Server IP-ni yoxlayƒ±n
ifconfig | grep "inet " | grep -v 127.0.0.1

# 2. PostgreSQL dinl…ôyir yoxlayƒ±n
psql -c "SHOW listen_addresses;"
# Cavab: '*' olmalƒ±dƒ±r

# 3. Firewall yoxlayƒ±n (macOS)
# System Settings > Network > Firewall

# 4. Ping test
ping 192.168.1.69

# 5. Port test
nc -zv 192.168.1.69 5432</code></pre>
                </div>

                <div class="danger-box">
                    <h3>‚ùå Authentication failed</h3>
                    <h4>∆èlam…ôtl…ôr:</h4>
                    <ul>
                        <li>"password authentication failed"</li>
                        <li>≈ûifr…ô q…ôbul olunmur</li>
                    </ul>
                    
                    <h4>H…ôll:</h4>
                    <pre><code># ≈ûifr…ôni yenil…ô
ALTER USER test_admin WITH PASSWORD 'test123456';

# pg_hba.conf yoxlayƒ±n
cat $(psql -t -c "SHOW hba_file;")

# D√ºzg√ºn s…ôtir olmalƒ±dƒ±r:
# host  all  all  192.168.1.0/24  scram-sha-256

# D…ôyi≈üiklikd…ôn sonra reload
brew services restart postgresql@15</code></pre>
                </div>

                <div class="danger-box">
                    <h3>‚ùå R-d…ôn baƒülana bilmir</h3>
                    <h4>H…ôll:</h4>
                    <pre><code># R-d…ô
# 1. Paketl…ôri yenid…ôn y√ºkl…ô
remove.packages("RPostgres")
install.packages("RPostgres")

# 2. Baƒülantƒ±nƒ± test et
library(RPostgres)
con <- tryCatch({
  dbConnect(
    Postgres(),
    host = "192.168.1.69",
    port = 5432,
    dbname = "onlayn_test_db",
    user = "test_admin",
    password = "test123456"
  )
}, error = function(e) {
  print(e)
  return(NULL)
})

if (!is.null(con)) {
  print("Baƒülantƒ± uƒüurlu!")
  dbDisconnect(con)
}</code></pre>
                </div>

                <div class="warning-box">
                    <h3>‚ö†Ô∏è Performans probleml…ôri</h3>
                    <pre><code>-- Slow queries tapƒ±n
SELECT 
    pid,
    now() - query_start as duration,
    query
FROM pg_stat_activity
WHERE state = 'active'
ORDER BY duration DESC;

-- Index-l…ôri yoxlayƒ±n
SELECT 
    tablename,
    indexname,
    indexdef
FROM pg_indexes
WHERE schemaname = 'public';

-- Vacuum edin
VACUUM ANALYZE;</code></pre>
                </div>

                <div class="success-box">
                    <h3>‚úÖ S√ºr…ôtli Test</h3>
                    <p>B√ºt√ºn sistemin i≈ül…ôdiyini yoxlamaq √º√ß√ºn:</p>
                    <pre><code># Terminal
psql -d onlayn_test_db -c "SELECT COUNT(*) FROM students;"

# R
library(RPostgres)
con <- dbConnect(Postgres(), host="localhost", 
                 dbname="onlayn_test_db", 
                 user="test_admin", password="test123456")
dbGetQuery(con, "SELECT COUNT(*) FROM students")
dbDisconnect(con)</code></pre>
                </div>
            </section>

            <!-- FAY–îALI LINKL∆èR -->
            <section>
                <h2><span class="emoji">üîó</span>Faydalƒ± Linkl…ôr v…ô Qaynaqlar</h2>
                
                <div class="info-box">
                    <ul style="list-style-position: inside; padding-left: 20px;">
                        <li><a href="https://www.postgresql.org/docs/" target="_blank">PostgreSQL R…ôsmi S…ôn…ôdl…ô≈üm…ô</a></li>
                        <li><a href="https://db.rstudio.com/databases/postgresql/" target="_blank">R v…ô PostgreSQL</a></li>
                        <li><a href="https://r-dbi.github.io/RPostgres/" target="_blank">RPostgres Paketi</a></li>
                        <li><a href="https://brew.sh/" target="_blank">Homebrew</a></li>
                    </ul>
                </div>
            </section>

        </div>

        <!-- FOOTER -->
        <footer>
            <h3>üìö Onlayn Test Sistemi</h3>
            <p>PostgreSQL Server - Tam ƒ∞dar…ôetm…ô T…ôlimatƒ±</p>
            <p style="margin-top: 15px; opacity: 0.8;">
                Hazƒ±rlayan: Claude AI<br>
                Tarix: 15 Noyabr 2025<br>
                Server: MacBook Pro M4 Max (192.168.1.69)
            </p>
            <p style="margin-top: 20px;">
                <a href="#" class="btn" onclick="window.print(); return false;">üñ®Ô∏è √áap Et</a>
                <a href="#melumat" class="btn">‚¨ÜÔ∏è Ba≈üa Qayƒ±t</a>
            </p>
        </footer>
    </div>

    <script>
        // Copy to clipboard functionality
        document.querySelectorAll('pre code').forEach((block) => {
            const button = document.createElement('button');
            button.className = 'copy-btn';
            button.textContent = 'Kopyala';
            
            block.parentElement.style.position = 'relative';
            block.parentElement.appendChild(button);
            
            button.addEventListener('click', () => {
                navigator.clipboard.writeText(block.textContent).then(() => {
                    button.textContent = '‚úì Kopyalandƒ±';
                    setTimeout(() => {
                        button.textContent = 'Kopyala';
                    }, 2000);
                });
            });
        });

        // Smooth scrolling
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });
    </script>
</body>
</html>